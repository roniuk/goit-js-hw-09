{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector(\".feedback-form\");\nconst storageKey = \"feedback-form-state\";\n\n\nform.addEventListener(\"input\", () => {\n    const userEmail = form.elements.email.value.trim();\n    const userMessage = form.elements.message.value.trim();\n    \n    const userData = {\n        email: userEmail,\n        message: userMessage,\n    }\n\n    saveToLocalStorege(storageKey, userData);\n});\n\nform.addEventListener(\"submit\", (e) => {\n    e.preventDefault(); \n    const data = loadFromLocalStorege(storageKey) || {};\n    if (data.email === \"\" || data.message === \"\") {\n        alert(\"All form fields must be filled in\");\n        return;\n    }\n     console.log(data);\n    form.reset();\n    localStorage.removeItem(storageKey);\n});\n\n\nfunction saveToLocalStorege(key, value) {\n    const toJSON = JSON.stringify(value);\n    localStorage.setItem(key,toJSON);\n}\n\nfunction loadFromLocalStorege(key) {\n    const fromJSON = localStorage.getItem(key);;\n    try {\n        const result = JSON.parse(fromJSON);\n        return result;\n    }\n    catch {\n        return \"ERROR\"; \n    }  \n}\n\nfunction restartedPage() {\n    const data = loadFromLocalStorege(storageKey) || {};\n    form.elements.email.value = data.email || \"\";\n    form.elements.message.value = data.message || \"\";\n}\n\nrestartedPage();"],"names":["form","storageKey","userEmail","userMessage","saveToLocalStorege","data","loadFromLocalStorege","key","value","toJSON","fromJSON","restartedPage"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAa,sBAGnBD,EAAK,iBAAiB,QAAS,IAAM,CACjC,MAAME,EAAYF,EAAK,SAAS,MAAM,MAAM,OACtCG,EAAcH,EAAK,SAAS,QAAQ,MAAM,OAOhDI,EAAmBH,EALF,CACb,MAAOC,EACP,QAASC,CACZ,CAEsC,CAC3C,CAAC,EAEDH,EAAK,iBAAiB,SAAW,GAAM,CACnC,EAAE,eAAc,EAChB,MAAMK,EAAOC,EAAqBL,CAAU,GAAK,CAAA,EACjD,GAAII,EAAK,QAAU,IAAMA,EAAK,UAAY,GAAI,CAC1C,MAAM,mCAAmC,EACzC,MACH,CACA,QAAQ,IAAIA,CAAI,EACjBL,EAAK,MAAK,EACV,aAAa,WAAWC,CAAU,CACtC,CAAC,EAGD,SAASG,EAAmBG,EAAKC,EAAO,CACpC,MAAMC,EAAS,KAAK,UAAUD,CAAK,EACnC,aAAa,QAAQD,EAAIE,CAAM,CACnC,CAEA,SAASH,EAAqBC,EAAK,CAC/B,MAAMG,EAAW,aAAa,QAAQH,CAAG,EACzC,GAAI,CAEA,OADe,KAAK,MAAMG,CAAQ,CAErC,MACK,CACF,MAAO,OACV,CACL,CAEA,SAASC,GAAgB,CACrB,MAAMN,EAAOC,EAAqBL,CAAU,GAAK,CAAA,EACjDD,EAAK,SAAS,MAAM,MAAQK,EAAK,OAAS,GAC1CL,EAAK,SAAS,QAAQ,MAAQK,EAAK,SAAW,EAClD,CAEAM,EAAe"}